trigger:
- none

pr:
- main
- releases/*

pool:
  name: Core

variables:
  system.debug: true
  
steps:

- script: |
    echo $(System.PullRequest.TargetBranch)
    echo $(System.PullRequest.targetBranchName)
    echo $(System.PullRequest.SourceRepositoryUri)
    echo $(System.PullRequest.SourceBranch)
    echo $(Build.SourceBranch)
    echo $(Build.SourceBranchName)
    echo $(Build.SourceVersion)
    echo $(System.PullRequest.PullRequestId)
    echo $(System.PullRequest.PullRequestNumber)
    
- script: |
    cd $(Build.ArtifactStagingDirectory)
    git init
    git remote add origin $(System.PullRequest.SourceRepositoryUri)
    git fetch origin pull/$(System.PullRequest.PullRequestId)/head:pr-branch
    git checkout pr-branch